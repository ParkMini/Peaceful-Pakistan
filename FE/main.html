<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이게 뭐야</title>
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body id="main">
    <div id="helpyouinformationmessage">
      <h2>도움이 필요하신가요?</h2>
      <h4>사진과 설명을 첨부하여 AI의 도움을 받아보세요!</h4>
    </div>
    <div class="images">
      <div class="image">
        <img id="addImage" src="./images/add_image.png" alt="add image" />
        <input type="file" id="fileInput" accept="image/*" />
      </div>
    </div>
    <div id="center">
      <button class="formbtn" id="categoryBtn">카테고리를 선택해주세요.</button>
      <button class="formbtn" id="periodBtn">구매기간을 선택해주세요.</button>
      <br />
      <div>
        <p>제품명</p>
        <input type="text" placeholder="아이폰 15" />
      </div>
      <div>
        <p>설명글</p>
        <textarea
          name="content"
          id="content"
          cols="22"
          rows="6"
          placeholder="전원이 켜지지 않아요."
        ></textarea>
      </div>
    </div>
    <div class="buttonright">
      <a href="./loading.html"><button>검색하기</button></a>
    </div>
    <nav>
      <ul>
        <li>
          <a href="./main.html"
            ><button class="active">
              <i class="fas fa-search"></i><br />AI 검색
            </button></a
          >
        </li>
        <li>
          <a href="#"
            ><button><i class="fas fa-history"></i><br />기록보기</button></a
          >
        </li>
        <li>
          <a href="#"
            ><button>
              <i class="fas fa-map-marker-alt"></i><br />주변 수리점
            </button></a
          >
        </li>
        <li>
          <a href="#"
            ><button><i class="fas fa-user"></i><br />마이페이지</button></a
          >
        </li>
      </ul>
    </nav>

    <!-- 모달 구조 -->
    <div id="categoryModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeCategory">&times;</span>
        <p>카테고리</p>
        <ul class="category-list">
          <li data-category="TV">TV</li>
          <li data-category="컴퓨터">컴퓨터</li>
          <li data-category="휴대폰">휴대폰</li>
          <li data-category="태블릿">태블릿</li>
          <li data-category="냉장고">냉장고</li>
          <li data-category="세탁기">세탁기</li>
          <li data-category="전자레인지">전자레인지</li>
          <li data-category="에어컨">에어컨</li>
          <li data-category="자동차">자동차</li>
          <li data-category="오토바이">오토바이</li>
          <li data-category="자전거">자전거</li>
          <li data-category="기타">기타</li>
        </ul>
      </div>
    </div>

    <div id="periodModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closePeriod">&times;</span>
        <p>구매기간</p>
        <div class="slider-container">
          <input
            type="range"
            id="periodSlider"
            min="0"
            max="10"
            step="1"
            value="0"
          />
          <span id="sliderValue">1년 미만</span>
        </div>
      </div>
    </div>

    <script>
      // 이미지 업로드 기능
      document
        .getElementById("addImage")
        .addEventListener("click", function () {
          document.getElementById("fileInput").click();
        });

      document
        .getElementById("fileInput")
        .addEventListener("change", function (event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              document.getElementById("addImage").src = e.target.result;
            };
            reader.readAsDataURL(file);
          }
        });

      // 모달 기능
      var categoryModal = document.getElementById("categoryModal");
      var periodModal = document.getElementById("periodModal");
      var categoryBtn = document.getElementById("categoryBtn");
      var periodBtn = document.getElementById("periodBtn");
      var closeCategory = document.getElementById("closeCategory");
      var closePeriod = document.getElementById("closePeriod");

      categoryBtn.onclick = function () {
        categoryModal.style.display = "block";
      };

      periodBtn.onclick = function () {
        periodModal.style.display = "block";
      };

      closeCategory.onclick = function () {
        categoryModal.style.display = "none";
      };

      closePeriod.onclick = function () {
        periodModal.style.display = "none";
      };

      window.onclick = function (event) {
        if (event.target == categoryModal) {
          categoryModal.style.display = "none";
        } else if (event.target == periodModal) {
          periodModal.style.display = "none";
        }
      };

      // 카테고리 선택 기능
      document.querySelectorAll(".category-list li").forEach(function (item) {
        item.addEventListener("click", function () {
          var category = this.getAttribute("data-category");
          categoryBtn.textContent = category;
          categoryModal.style.display = "none";
        });
      });

      // 구매기간 슬라이더 기능
      var periodSlider = document.getElementById("periodSlider");
      var sliderValue = document.getElementById("sliderValue");

      periodSlider.oninput = function () {
        var value = periodSlider.value;
        if (value == 0) {
          sliderValue.textContent = "1년 미만";
          periodBtn.textContent = "구매기간: 1년 미만";
        } else if (value == 10) {
          sliderValue.textContent = "10년 이상";
          periodBtn.textContent = "구매기간: 10년 이상";
        } else {
          sliderValue.textContent = value + "년";
          periodBtn.textContent = "구매기간: " + value + "년";
        }
      };
    </script>
  </body>
</html>
